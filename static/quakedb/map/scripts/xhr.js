// Generated by CoffeeScript 1.6.3
(function() {
  var app, root;

  root = this;

  if (root.app == null) {
    app = root.app = {};
  } else {
    app = root.app;
  }

  d3.json(app.eq_url, function(error, collection) {
    var date_slider, eq_magnitude_slider;
    app.drawgraph(collection);
    app.drawmap(collection);
    eq_magnitude_slider = $(function() {
      return $('#data-slider-eq-magnitude').slider({
        range: true,
        min: app.min_mag,
        max: app.max_mag,
        values: [4.5, 7.5],
        step: 0.5,
        slide: function(event, ui) {
          var maxv, minv;
          minv = ui.values[0];
          maxv = ui.values[1];
          return app.mag_filter(minv, maxv);
        }
      });
    });
    return date_slider = $(function() {
      return $('#data-slider-date').slider({
        range: true,
        min: app.min_date,
        max: app.max_date,
        step: 1,
        slide: function(event, ui) {
          var maxv, minv;
          minv = ui.values[0];
          maxv = ui.values[1];
          return app.date_filter(minv, maxv);
        }
      });
    });
  });

}).call(this);
